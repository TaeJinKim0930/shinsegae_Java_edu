<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>
<body>
    <script>
        function welcome() {
            return new Promise((res, rej) => {
                setTimeout(()=> {
                    res("welcome");
                }, 3000);
            });
        }

        function to() {
            return new Promise((res,rej) => {
                setTimeout(() => {
                    res("to");
                }, 2000);
            });
        }

        function world() {
            return new Promise((res, rej) => {
                res("world");
            }, 1000);
        }

        function end(response) {
            console.log(response);
        }

        /*
        * 체인으로 연결이 되어 있기 대문에 response 의 이름도 다르고
        * params 으로 넘겨주지 않아도 response 의 값이
        * 다음 .then() 파트로 자동적으로 넘겨져감.
        * .then() params 값에 response 값을 넘기지 않아도 자동으로 넘어가지만
        * end() function 에서는 response 값이 필요 하기 때문에
        * 마지막에만 response 를 추가를 해줌.
        * 위에 .then() 에서는 response 값을 핸들링하지 않기 때문에
        * 있던 없던 똑같은 리턴값을 가지고 옴.
        */
        welcome().then(() => {
            console.log("welcome");
            return to();
        }).then(() => {
            console.log("to");
            return world();
        }).then((response) => {
            end(response);
        });

        console.log("run!");
    </script>
</body>
</html>